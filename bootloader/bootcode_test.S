;PARAM:  r0 = address to write return data
;RETURN: r0 = # of bytes to send back

lea r4, DATA1

;LOAD DATA
;Vld	H(0, 0), (r4)
.half	0xF000
.half	0x0038
.half	0x0384

add	r4, 16
;Vld	H(0, 16), (r4)
.half	0xF000
.half	0x2038
.half	0x0384


;Vector insn test
;1111 010v vvvv vuuu  dddd dddd ddaa aaaa  aaaa u0bb bbbb bsss  "; V%s{v} [VECTARG48({d}, {s})], [VECTARG48({a}, {s})], [VECTARG48({(b<<3)|s}, {s})]"
;VU31 H(0, 0), H(0, 0), H(0, 16)      ; (Vmul): H(0,0) = H(0,0) * H(0, 16)
.half	0xF588
.half	0x0000
.half	0x0080


;STORE DATA
;1111 00uu 1uuu uuuu uuuu uuuu uuaa aaaa aaaa uuuu uuuu usss  "; Vst [VECTARG48({a}, {0})], (r%i{s})"
;Vst H(0, 0), (r0)
.half	0xF080
.half	0xE000
.half	0x0380

add	r0, 16
;Vst H(0, 16), (r0)
.half	0xF080
.half	0xE008
.half	0x0380

;Sending back 2 16-byte vectors.
mov	r0, 32
rts


DATA1:
.byte 0x02, 0x80, 0x7F, 0x30, 0x40, 0x77, 0x06, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x0C, 0x0D, 0x0E, 0x0F
.byte 0x80, 0x01, 0x01, 0x03, 0x10, 0x07, 0x16, 0x17, 0x18, 0x19, 0x1A, 0x1B, 0x1C, 0x1D, 0x1E, 0x1F
.byte 0x20, 0x21, 0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28, 0x29, 0x2A, 0x2B, 0x2C, 0x2D, 0x2E, 0x2F
.byte 0x30, 0x31, 0x32, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38, 0x39, 0x3A, 0x3B, 0x3C, 0x3D, 0x3E, 0x3F



